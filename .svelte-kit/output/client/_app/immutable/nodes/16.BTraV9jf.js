import{a as v,f as p,s as c}from"../chunks/BGsM1btW.js";import{p as se,o as re,a as oe,e as ie,g as t,b as w,$ as ne,c as a,s as r,n as de,r as s,i as A,d as S,t as _}from"../chunks/DEPQPQt8.js";import{i as f}from"../chunks/CVvYbTkW.js";import{h as le,s as ce}from"../chunks/BFGHZJqN.js";import{a as me,s as ve}from"../chunks/DNJl1ib1.js";import{p as pe}from"../chunks/5_ZOgByb.js";import{S as ue}from"../chunks/81uDzRXJ.js";var _e=p('<div class="glass-card-static p-10 text-center animate-pulse"><p class="text-text-muted">Verifying document...</p></div>'),xe=p('<div class="glass-card-static p-10 text-center border-l-4 border-gov-red"><h2 class="text-xl font-bold text-gov-red mb-2">Document Not Found</h2> <p class="text-sm text-text-secondary mb-4">No document matches this verification hash.</p> <code class="text-xs text-text-muted font-mono break-all"> </code></div>'),fe=p('<div class="flex justify-between py-2 border-b border-gray-100"><span class="text-text-muted font-medium">Teacher</span> <span class="text-text-primary font-semibold"> </span></div>'),be=p('<div class="flex justify-between py-2 border-b border-gray-100"><span class="text-text-muted font-medium">School</span> <span class="text-text-primary font-semibold"> </span></div>'),he=p('<div class="flex justify-between py-2 border-b border-gray-100"><span class="text-text-muted font-medium">Teaching Load</span> <span class="text-text-primary font-semibold"> </span></div>'),ge=p('<div class="flex justify-between py-2 border-b border-gray-100"><span class="text-text-muted font-medium">Subject</span> <span class="text-text-primary font-semibold"> </span></div>'),ye=p('<div class="glass-card-static p-8 border-l-4 border-gov-green"><div class="text-center mb-6"><h2 class="text-xl font-bold text-gov-green">Verified</h2> <p class="text-sm text-text-muted mt-1">This document is authentic and tamper-evident</p></div> <div class="space-y-4 text-sm"><div class="flex justify-between py-2 border-b border-gray-100"><span class="text-text-muted font-medium">Document</span> <span class="text-text-primary font-semibold"> </span></div> <div class="flex justify-between py-2 border-b border-gray-100"><span class="text-text-muted font-medium">Type</span> <span class="text-text-primary font-semibold"> </span></div> <!> <!> <!> <!> <div class="flex justify-between py-2 border-b border-gray-100"><span class="text-text-muted font-medium">Status</span> <!></div> <div class="flex justify-between py-2 border-b border-gray-100"><span class="text-text-muted font-medium">Uploaded</span> <span class="text-text-primary font-semibold"> </span></div> <div class="pt-2"><span class="text-text-muted font-medium block mb-1">SHA-256 Hash</span> <code class="text-xs font-mono text-gov-blue break-all"> </code></div></div></div>'),je=p('<div class="min-h-screen gradient-mesh flex items-center justify-center p-6"><div class="w-full max-w-lg animate-slide-up"><div class="text-center mb-8"><div class="w-14 h-14 mx-auto rounded-2xl bg-gradient-to-br from-gov-blue to-gov-blue-dark flex items-center justify-center text-white text-2xl font-bold shadow-elevated mb-3">E</div> <h1 class="text-xl font-bold text-text-primary">Smart E-VISION</h1> <p class="text-sm text-text-muted">Document Verification</p></div> <!> <div class="text-center mt-6"><a href="/dashboard" class="text-sm text-text-muted hover:text-gov-blue transition-colors">BACK TO Smart E-VISION</a></div></div></div>');function Ne(B,F){se(F,!0);const q=()=>ve(pe,"$page",C),[C,G]=me();let i=S(null),D=S(!1),$=S(!0);const b=A(()=>q().params.hash);re(async()=>{const{data:e}=await ce.from("submissions").select(`
				file_name, doc_type, compliance_status, created_at, file_size, week_number, subject, school_year,
				profiles:user_id ( full_name, schools:school_id ( name ) ),
				teaching_loads ( subject, grade_level )
			`).eq("file_hash",t(b)).maybeSingle();if(e){const d=e.profiles,m=e.teaching_loads;w(i,{file_name:e.file_name,doc_type:e.doc_type,compliance_status:e.compliance_status,created_at:e.created_at,file_size:e.file_size,week_number:e.week_number,subject:e.subject,school_year:e.school_year,teacher_name:d?.full_name||null,school_name:d?.schools?.name||null,teaching_load_subject:m?.subject||null,teaching_load_grade:m?.grade_level||null},!0)}else w(D,!0);w($,!1)});function K(e){return new Date(e).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}var h=je();le("1nolav9",e=>{ie(()=>{ne.title="Verify Document â€” Smart E-VISION"})});var k=a(h),M=r(a(k),2);{var P=e=>{var d=_e();v(e,d)},U=e=>{var d=xe(),m=r(a(d),4),x=a(m,!0);s(m),s(d),_(()=>c(x,t(b))),v(e,d)},J=e=>{var d=ye(),m=r(a(d),2),x=a(m),V=r(a(x),2),Q=a(V,!0);s(V),s(x);var g=r(x,2),I=r(a(g),2),R=a(I,!0);s(I),s(g);var N=r(g,2);{var W=o=>{var n=fe(),l=r(a(n),2),u=a(l,!0);s(l),s(n),_(()=>c(u,t(i).teacher_name)),v(o,n)};f(N,o=>{t(i).teacher_name&&o(W)})}var T=r(N,2);{var X=o=>{var n=be(),l=r(a(n),2),u=a(l,!0);s(l),s(n),_(()=>c(u,t(i).school_name)),v(o,n)};f(T,o=>{t(i).school_name&&o(X)})}var z=r(T,2);{var Y=o=>{var n=he(),l=r(a(n),2),u=a(l);s(l),s(n),_(()=>c(u,`${t(i).teaching_load_subject??""} - Grade ${t(i).teaching_load_grade??""}`)),v(o,n)};f(z,o=>{t(i).teaching_load_subject&&t(i).teaching_load_grade&&o(Y)})}var E=r(z,2);{var Z=o=>{var n=ge(),l=r(a(n),2),u=a(l,!0);s(l),s(n),_(()=>c(u,t(i).subject)),v(o,n)};f(E,o=>{t(i).subject&&o(Z)})}var y=r(E,2),ee=r(a(y),2);{let o=A(()=>t(i).compliance_status==="on-time"||t(i).compliance_status==="compliant"?"compliant":t(i).compliance_status==="late"?"late":"non-compliant");ue(ee,{get status(){return t(o)},size:"sm"})}s(y);var j=r(y,2),O=r(a(j),2),te=a(O,!0);s(O),s(j);var H=r(j,2),L=r(a(H),2),ae=a(L,!0);s(L),s(H),s(m),s(d),_(o=>{c(Q,t(i).file_name),c(R,t(i).doc_type),c(te,o),c(ae,t(b))},[()=>K(t(i).created_at)]),v(e,d)};f(M,e=>{t($)?e(P):t(D)?e(U,1):t(i)&&e(J,2)})}de(2),s(k),s(h),v(B,h),oe(),G()}export{Ne as component};
